# =============================================================================
# LastSignal â€“ Environment Variables
# =============================================================================
#
# ðŸ‘‰ How to use this file:
# 1. Copy it to `.env.production` (for deployment)
# 2. Fill in the values that apply to your setup
# 3. NEVER commit real `.env` files to version control
#
# This file is meant to be read by humans first ðŸ™‚
# =============================================================================


# -----------------------------------------------------------------------------
# Deployment with Kamal (OPTIONAL)
# -----------------------------------------------------------------------------
#
# Kamal is a Docker-based deployment tool.
# You ONLY need this section if you plan to deploy LastSignal using Kamal.
# If you don't know what Kamal is, you can safely ignore everything below.
#
# Docs: https://kamal-deploy.org
# -----------------------------------------------------------------------------

# Docker image name published to the container registry
# Example: ghcr.io/your-username/lastsignal
KAMAL_IMAGE=ghcr.io/you/lastsignal

# Container registry server
# GitHub Container Registry â†’ ghcr.io
KAMAL_REGISTRY_SERVER=ghcr.io

# Registry username (usually your GitHub username)
KAMAL_REGISTRY_USERNAME=your-username

# Registry password / token
# For GitHub: a Personal Access Token with `packages:write`
KAMAL_REGISTRY_PASSWORD=your-registry-token

# One or more server IPs where the app will be deployed
# Comma-separated if multiple
KAMAL_SERVERS=203.0.113.10

# Public domain used by Kamalâ€™s reverse proxy
# Must resolve to one of the servers above
KAMAL_PROXY_HOST=lastsignal.example.com


# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------

# Base URL used to generate links (MUST include protocol)
# Example: https://lastsignal.example.com
APP_BASE_URL=https://www.example.com

# Hostname used for security checks and email links (NO protocol)
# Example: lastsignal.example.com
APP_HOST=www.example.com

# Rails master key (REQUIRED in production)
# Generated automatically when editing credentials:
#   bin/rails credentials:edit
RAILS_MASTER_KEY=your-rails-master-key-here

# Secret key base used for session encryption (REQUIRED in production)
# Generate with:
#   bin/rails secret
SECRET_KEY_BASE=your-secret-key-base-here


# -----------------------------------------------------------------------------
# Email / SMTP
# -----------------------------------------------------------------------------
#
# Used to send magic links and system emails
# -----------------------------------------------------------------------------

SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-smtp-user
SMTP_PASS=your-smtp-password

# Domain used in email headers
SMTP_DOMAIN=example.com

# Default "from" address and name
SMTP_FROM_EMAIL=noreply@example.com
SMTP_FROM_NAME=LastSignal


# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------

# Optional allowlist for private / self-hosted instances
# When set, ONLY these email addresses can request magic links
# Leave empty to allow anyone.
#
# Comma-separated list:
ALLOWED_EMAILS=owner@example.com,admin@example.com


# -----------------------------------------------------------------------------
# Background Jobs
# -----------------------------------------------------------------------------

# How often ProcessCheckinsJob runs (in minutes)
PROCESS_CHECKINS_INTERVAL_MINUTES=60


# -----------------------------------------------------------------------------
# Defaults & Advanced Settings
# -----------------------------------------------------------------------------
#
# Timing, rate limits, and cryptographic defaults live here:
#   config/initializers/app_defaults.rb
#
# You usually don't need to touch them.
# -----------------------------------------------------------------------------
